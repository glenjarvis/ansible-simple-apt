|test_num | package_is_installed | version_is_installed | package_is_upgradable | has_files | Success
|---------+----------------------+----------------------+-----------------------+-----------+--------
|  08-01  |         False        |        False         |         False         |   True    | True
|  08-02  |           X          |          X           |           X           |     X     | True
|  08-03  |         False        |        False         |         False         |   True    | True
|  08-04  |         False        |        False         |         False         |   True    | True
|  08-05  |         False        |        False         |         False         |   True    | True
|  08-06  |         False        |        False         |         False         |   True    | True
|  08-07  |           X          |          X           |           X           |     X     | True
|  08-08  |         False        |        False         |         False         |   True    | False [X1]
|  08-09  |           X          |          X           |           X           |     X     | False [X2]
|  08-10  |         False        |        False         |         False         |   True    | False [X3]
|  08-11  |         False        |        False         |         False         |   True    | True
|  08-12  |           X          |          X           |           X           |     X     | True
|  08-13  |         False        |        False         |         False         |   True    | True
|  08-14  |           X          |          X           |           X           |     X     | False [X2]
|  08-15  |         False        |        False         |         False         |   True    | True
|  08-16  |         True         |        True          |         True          |   True    | True
|  08-17  |           X          |          X           |           X           |     X     | True
|  08-18  |         True         |        True          |         True          |   True    | True
|  08-19  |         True         |        True          |         True          |   True    | True
|  08-20  |         True         |        True          |         True          |   True    | True
|  08-21  |         True         |        False         |         True          |   True    | True
|  08-22  |           X          |          X           |           X           |     X     | True
|  08-23  |         True         |        False         |         True          |   True    | True
|  08-24  |           X          |          X           |           X           |     X     | False [X2]
|  08-25  |         True         |        False         |         True          |   True    | True
|  08-26  |         True         |        True          |         True          |   True    | True
|  08-27  |           X          |          X           |           X           |     X     | True
|  08-28  |         True         |        True          |         True          |   True    | True
|  08-29  |           X          |          X           |           X           |     X     | False [X2]
|  08-30  |         True         |        True          |         True          |   True    | True

[X1] The following packages have unmet dependencies:; 389-ds-base : Depends: 389-ds-base-libs (= 1.3.3.5-4) but 1.3.3.5-4+deb8u7 is to be installed; E: Unable to correct problems, you have held broken packages.; '/usr/bin/apt-get -y -o "Dpkg::Options::=--force-confdef" -o "Dpkg::Options::=--force-confold"  --fix-broken    install '389-ds-base=1.3.3.5-4'' failed: E: Unable to correct problems, you have held broken packages.

[X2] version number inconsistent with state=latest: 389-ds-base=1.3.3.5-4

[X3] The following packages have unmet dependencies:; 389-ds-base : Depends: 389-ds-base-libs (= 1.3.3.5-4) but 1.3.3.5-4+deb8u7 is to be installed; E: Unable to correct problems, you have held broken packages; '/usr/bin/apt-get -y -o "Dpkg::Options::=--force-confdef" -o "Dpkg::Options::=--force-confold"      install '389-ds-base=1.3.3.5-4'' failed: E: Unable to correct problems, you have held broken packages.

===========================================================================


|  08-30  |         True         |        True          |         True          |   True    | True
|  08-31  |         True         |        True          |         False         |   True    | True
|  08-32  |           X          |          X           |           X           |     X     | True
|  08-33  |         True         |        True          |         False         |   True    | True
|  08-34  |         True         |        True          |         False         |   True    | True
|  08-35  |         True         |        True          |         False         |   True    | True
|  08-36  |         True         |        False         |         False         |   True    | True
|  08-37  |           X          |          X           |           X           |     X     | True
|  08-38  |         True         |        False         |         False         |   True    | True [X1]
|  08-39  |           X          |          X           |           X           |     X     | True [X2]
|  08-40  |         False        |        False         |         False         |   False   | False [X3]
|  08-41  |         True         |        True          |         False         |   True    | True
|  08-42  |           X          |          X           |           X           |     X     | True
|  08-43  |         True         |        True          |         False         |   True    | True
|  08-44  |           X          |          X           |           X           |     X     | True [X2]
|  08-45  |         True         |        True          |         False         |   True    |  True
 
[X1] The following packages have unmet dependencies: 389-ds-base : Depends: 389-ds-base-libs (= 1.3.3.5-4) but 1.3.3.5-4+deb8u7 is to be installed E: Unable to correct problems, you have held broken packages.  '/usr/bin/apt-get -y -o "Dpkg::Options::=--force-confdef" -o "Dpkg::Options::=--force-confold"  --fix-broken    install '389-ds-base=1.3.3.5-4'' failed: E: Unable to correct problems, you have held broken packages.

[X2] version number inconsistent with state=latest: 389-ds-base=1.3.3.5-4

[X3] The following packages have unmet dependencies: 389-ds-base : Depends: 389-ds-base-libs (= 1.3.3.5-4) but 1.3.3.5-4+deb8u7 is to be installed E: Unable to correct problems, you have held broken packages.  '/usr/bin/apt-get -y -o "Dpkg::Options::=--force-confdef" -o "Dpkg::Options::=--force-confold" install '389-ds-base=1.3.3.5-4'' failed: E: Unable to correct problems, you have held broken packages.


#GLEN
===========================================================================
===========================================================================
|08-31|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base                  | absent         ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base
        state: absent
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
m: <ansible.module_utils.basic.AnsibleModule object at 0x7fef0eb6a090>
name: 389-ds-base
version: None
cache: <apt.cache.Cache object at 0x7fef136bb590>
state: <function remove at 0x7fef0eb6bb90>
installed: True installed_version: True upgradable: False has_files: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
changed: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-32|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base                  | build-dep      ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base
        state: build-dep
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
changed: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-33|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base                  | fixed          ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base
        state: fixed
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
ok: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-34|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base                  | latest         ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base
        state: latest
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
ok: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-35|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base                  | present        ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base
        state: present
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
ok: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-36|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4        | absent         ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4
        state: absent
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|False|False|True
m: <ansible.module_utils.basic.AnsibleModule object at 0x7ff0d5be0090>
name: 389-ds-base
version: 1.3.3.5-4
cache: <apt.cache.Cache object at 0x7ff0da731490>
state: <function remove at 0x7ff0d5bdfed8>
installed: True installed_version: False upgradable: False has_files: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|False|False|True
ok: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-37|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4        | build-dep      ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4
        state: build-dep
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
changed: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-38|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4        | fixed          ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4
        state: fixed
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|False|False|True
fatal: [localhost]: FAILED! => {
    "cache_update_time": 1596853015, 
    "cache_updated": false, 
    "changed": false, 
    "rc": 100
}

STDOUT:

Reading package lists...
Building dependency tree...
Reading state information...
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 389-ds-base : Depends: 389-ds-base-libs (= 1.3.3.5-4) but 1.3.3.5-4+deb8u7 is to be installed



STDERR:

E: Unable to correct problems, you have held broken packages.



MSG:

'/usr/bin/apt-get -y -o "Dpkg::Options::=--force-confdef" -o "Dpkg::Options::=--force-confold"  --fix-broken    install '389-ds-base=1.3.3.5-4'' failed: E: Unable to correct problems, you have held broken packages.


PLAY RECAP *********************************************************************
localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-39|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4        | latest         ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4
        state: latest
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
fatal: [localhost]: FAILED! => {
    "changed": false
}

MSG:

version number inconsistent with state=latest: 389-ds-base=1.3.3.5-4

PLAY RECAP *********************************************************************
localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-40|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4        | present        ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4
        state: present
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|False|False|True
fatal: [localhost]: FAILED! => {
    "cache_update_time": 1596853258, 
    "cache_updated": false, 
    "changed": false, 
    "rc": 100
}

STDOUT:

Reading package lists...
Building dependency tree...
Reading state information...
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 389-ds-base : Depends: 389-ds-base-libs (= 1.3.3.5-4) but 1.3.3.5-4+deb8u7 is to be installed



STDERR:

E: Unable to correct problems, you have held broken packages.



MSG:

'/usr/bin/apt-get -y -o "Dpkg::Options::=--force-confdef" -o "Dpkg::Options::=--force-confold"      install '389-ds-base=1.3.3.5-4'' failed: E: Unable to correct problems, you have held broken packages.


PLAY RECAP *********************************************************************
localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-41|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4+deb8u7 | absent         ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4+deb8u7
        state: absent
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
m: <ansible.module_utils.basic.AnsibleModule object at 0x7fc791712090>
name: 389-ds-base
version: 1.3.3.5-4+deb8u7
cache: <apt.cache.Cache object at 0x7fc796263590>
state: <function remove at 0x7fc791713b90>
installed: True installed_version: True upgradable: False has_files: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
changed: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-42|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4+deb8u7 | build-dep      ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4+deb8u7
        state: build-dep
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
changed: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-43|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4+deb8u7 | fixed          ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4+deb8u7
        state: fixed
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
ok: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-44|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4+deb8u7 | latest         ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4+deb8u7
        state: latest
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
fatal: [localhost]: FAILED! => {
    "changed": false
}

MSG:

version number inconsistent with state=latest: 389-ds-base=1.3.3.5-4+deb8u7

PLAY RECAP *********************************************************************
localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   

===========================================================================
|08-45|jesse |   yes      | 1.3.3.5-4+deb8u7 | 389-ds-base=1.3.3.5-4+deb8u7 | present        ===================================
389-ds-base:
  Installed: 1.3.3.5-4+deb8u7
  Candidate: 1.3.3.5-4+deb8u7
  Version table:
 *** 1.3.3.5-4+deb8u7 0
        500 http://security.debian.org/ jessie/updates/main amd64 Packages
        100 /var/lib/dpkg/status
     1.3.3.5-4 0
        500 http://httpredir.debian.org/debian/ jessie/main amd64 Packages

---
- name: Demo Playbook
  hosts: localhost
  tasks:
    - debug: msg="Ansible is working."

- name: Run test
  hosts: localhost
  tasks:
    - name: Run this test case
      sapt:
        name: 389-ds-base=1.3.3.5-4+deb8u7
        state: present
      become: yes

PLAY [Demo Playbook] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [debug] *******************************************************************
ok: [localhost] => {}

MSG:

Ansible is working.

PLAY [Run test] ****************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Run this test case] ******************************************************
sapt_module_called: True
Function_called: True
DEBUG 2
cache_info: {'versions': ['1.3.3.5-4+deb8u7', '1.3.3.5-4'], 'candidate': '1.3.3.5-4+deb8u7', 'package_name': '389-ds-base', 'installed': '1.3.3.5-4+deb8u7'}
|08-XX|True|True|False|True
ok: [localhost]

PLAY RECAP *********************************************************************
localhost                  : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

